{% extends 'base.html' %}

{% block content %}
<div class="container py-5">
  <div class="row g-4">
    <!-- Car Image Section -->
    <div class="col-md-6">
      <div class="card shadow-sm h-50">
        {% if booking.car.image %}
          <img src="{{booking.car.image.url}}" alt="{{booking.car.make}}" class="card-img-top img-fluid rounded-top"/>
        {% else %}
          <div class="bg-light d-flex justify-content-center align-items-center rounded-top" style="height: 400px;">
            <p class="text-muted">No image available</p>
          </div>
        {% endif %}
        <div class="card-body bg-light">
          <h5 class="card-title fw-bold mb-3">{{booking.car.make}} {{booking.car.model}}</h5>
          <div class="d-flex justify-content-between">
            <span class="badge bg-primary rounded-pill">{{booking.car.year}}</span>
            <span class="badge bg-secondary rounded-pill">{{booking.car.transmission}}</span>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Booking Details Section -->
    <div class="col-md-6">
      <!-- Trip Details Card -->
      <div class="card mb-4 shadow-sm">
        <div class="card-header bg-primary text-white py-3">
          <h4 class="fw-bold mb-0">Booking Details</h4>
        </div>
        <div class="card-body p-4">
          <!-- Date Information -->
          <div class="row mb-4">
            <div class="col-6">
              <div class="text-center">
                <h6 class="fw-bold text-muted mb-2">PICKUP DATE</h6>
                <div class="bg-light p-3 rounded">
                  <p class="fw-bold mb-0 fs-5">{{booking.pickup_date}}</p>
                </div>
              </div>
            </div>
            <div class="col-6">
              <div class="text-center">
                <h6 class="fw-bold text-muted mb-2">DROPOFF DATE</h6>
                <div class="bg-light p-3 rounded">
                  <p class="fw-bold mb-0 fs-5">{{booking.dropoff_date}}</p>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Location Information -->
          <div class="row">
            <div class="col-6">
              <div class="text-center">
                <h6 class="fw-bold text-muted mb-2">PICKUP LOCATION</h6>
                <div class="p-2">
                  <p class="fw-semibold mb-0">{{booking.pickup_location}}</p>
                </div>
              </div>
            </div>
            <div class="col-6">
              <div class="text-center">
                <h6 class="fw-bold text-muted mb-2">DROPOFF LOCATION</h6>
                <div class="p-2">
                  <p class="fw-semibold mb-0">{{booking.dropoff_location}}</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Payment Details Card -->
      <div class="card shadow-sm">
        <div class="card-header bg-dark text-white py-3">
          <h4 class="fw-bold mb-0">Booking Summary</h4>
        </div>
        <div class="card-body p-4">
          <div class="d-flex justify-content-between align-items-center mb-3 pb-3 border-bottom">
            <span class="fw-semibold text-muted">Booking Number</span>
            <span class="fw-bold fs-5 text-success">#{{booking.booking_number}}</span>
          </div>
          <div class="d-flex justify-content-between align-items-center mb-3 pb-3 border-bottom">
            <span class="fw-semibold text-muted">Total Price</span>
            <span class="fw-bold fs-5">Kes {{booking.total_price}}</span>
          </div>
          <div class="d-flex justify-content-between align-items-center mb-4">
            <span class="fw-semibold text-muted">Status</span>
            <span class="badge {% if booking.status == 'Confirmed' %}bg-success{% elif booking.status == 'Pending' %}bg-warning{% else %}bg-secondary{% endif %} fs-6 py-2 px-3">{{booking.status}}</span>
          </div>
          
          <!-- Payment Instructions -->
          <div class="bg-success text-white p-4 rounded mt-3">
            <div class="d-flex justify-content-between align-items-center">
              <div>
                <i class="bi bi-credit-card-2-front me-2"></i>
                <span class="fw-bold">Pay via M-PESA to confirm</span>
              </div>
              <div class="fw-bold fs-5">+254 753 244 240</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}